<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZaraTherapyClinic</title>
    <link rel="icon" type="image/x-icon" href="assets/Img/logo_web.png">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/shopping.css">
    <link rel="stylesheet" href="assets/font/Roboto/stylesheet.css">
    <link rel="stylesheet" href="assets/bootstrap-5.2.0-beta1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/font/fontawesome-free-6.1.1-web/css/all.min.css">
    <link rel="stylesheet" href="assets/bootstrap-5.2.0-beta1-dist/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="assets/bootstrap-5.2.0-beta1-dist/css/bootstrap-reboot.min.css">
    <script src="assets/bootstrap-5.2.0-beta1-dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/jquery/jquery-3.6.0.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="assets/carousel/owl.carousel.min.css">
    <link rel="stylesheet" href="/assets/carousel/owl.theme.default.min.css">
    <script src="assets/carousel/owl.carousel.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>

<body class="scroll">
    <!-- NAV -->
    <nav class="navbar navbar-expand-xl bg-white">

    </nav>


    <!-- BODY -->
    <div class="cart container">
        <div class="cart-container">
            <div class="cart-top">
                <h1>Shopping bag</h1>
                <p class="s-14">Your Selected Items</p>
                <hr>
            </div>

            <div class="list-item">
                <!-- <div class="cart-item">
                            <div>
                                <h3>Environ Starter Kit</h3>
                                <p>Quantity: 1</p>
                            </div>
                            <div>
                                <h3>109$</h3>
                                <p>remove</p>
                            </div>
                        </div> -->
            </div>
            <div class="cart-bot-container">
                <h2 class="text-center empty">Your bag is empty</h2>
                <hr>
                <div class="cart-bot pt-2 justify-content-between">
                    <h2>Total</h2>
                    <h2>0$</h2>
                </div>
            </div>
        </div>
        <button type="button" class="btn d-block m-auto proceed w-100 mt-4">
            <h1>Proceed</h1>
        </button>
    </div>

    <!-- footer -->

    <!-- <div class="footer w-100"></div> -->

    <!-- login -->
    <div class="background-signup justify-content-center align-items-center"></div>
    <div id="toast"></div>

</body>

</html>
<script src="./assets/nav.js"></script>
<script src="./assets/signup.js"></script>
<script src="./assets/footer.js"></script>
<script src="./assets/countUp/countUp.js"></script>
<script src="./assets/products.js"></script>
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script>

    AOS.init({
        duration: 2000,
    });

    $(document).ready(function () {
        var IDproducts = JSON.parse(localStorage.getItem("IDproducts"));
        var Prices = [];
        var Newproduct = [];
        var id;
        var total = 0;
        // 
        for (let i = 0; i < IDproducts.length; i++) {
            Newproduct[i] = JSON.parse(localStorage.getItem(IDproducts[i]))

            var name = Newproduct[i].name;
            id = Newproduct[i].id;
            switch (name) {
                case "environs":
                    $(".list-item").append(`<div class="cart-item d-flex justify-content-between pb-3"></div>`)
                    $(`.cart-item:nth-child(${i + 1})`).html(`
                <div>
                    <h3>${environs[id].name}</h3>
                    <!--<p>Quantity: ${Newproduct[i].quatity}</p>-->
                    <div class="quatity">  
                        <p class="s-14">Quality:</p>
                        <div class="btn-group" role="group" aria-label="Basic outlined example">
                            <button type="button" class="btn btn-outline-primary s-16">-</button>
                            <input type="number" class="text-center s-16" name="" id="" value="1">
                            <button type="button" class="btn btn-outline-primary s-16">+</button>
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-column justify-content-between">
                    <h3>${Prices[i] = parseInt(environs[id].price) * parseInt(Newproduct[i].quatity)}$</h3>
                    <p>remove</p>
                </div>
                
                `)
                    break;
                case "murad":
                    $(".list-item").append(`<div class="cart-item d-flex justify-content-between"></div>`)
                    $(`.cart-item:nth-child(${i + 1})`).html(`
                <div>
                    <h3>${murad[id].name}</h3>
                    <p>Quantity: ${Newproduct[i].quatity}</p>
                </div>
                <div>
                    <h3>${Prices[i] = parseInt(murad[id].price) * parseInt(Newproduct[i].quatity)}$</h3>
                    <p>remove</p>
                </div>
                `)
                    break;
                case "equipments":
                    $(".list-item").append(`<div class="cart-item d-flex justify-content-between"></div>`)
                    $(`.cart-item:nth-child(${i + 1})`).html(`
                <div>
                    <h3>${equipments[id].name}</h3>
                    <p>Quantity: ${Newproduct[i].quatity}</p>
                </div>
                <div>
                    <h3 class="m-2">${Prices[i] = parseInt(equipments[id].price) * parseInt(Newproduct[i].quatity)}$</h3>
                    <p>remove</p>
                </div>
                `)
                    break;
            }
            total += Prices[i];
            $(".cart-bot h2:last-child").html(`${total}$`)
        }


        // 
        if ($(".cart-item").text()) {
            $(".cart-bot, .cart-bot-container hr").css("display", "flex")
            $(".cart-bot-container .empty").hide()
        }

        // xác nhận mua sản phẩm
        $(".proceed").click(function () {
            location.reload()

            for (let i = 0; i <= IDproducts.length; i++) {
                Newproduct[i] = JSON.parse(localStorage.getItem(IDproducts[i]))
                localStorage.removeItem("QuatityProduct")
                localStorage.removeItem("IDproducts")
                localStorage.removeItem(Newproduct[i].id)
            }
        })

        // quatity
        $(".quatity div[class=btn-group] button:first-child").click(function () {
            $(".quatity div[class=btn-group] input").val(parseInt($(".quatity div[class=btn-group] input").val()) - 1)
            if ($(".quatity div[class=btn-group] input").val() < 1) {
                $(".quatity div[class=btn-group] input").val(1)
            }
        })
        $(".quatity div[class=btn-group] button:last-child").click(function () {
            $(".quatity div[class=btn-group] input").val(parseInt($(".quatity div[class=btn-group] input").val()) + 1)
        })

    })





</script>